document.addEventListener("DOMContentLoaded",function(){console.log("REFLYTE: Script loaded");let e=document.querySelectorAll("form");e.forEach(function(e){console.log("REFLYTE: Form found",e),e.addEventListener("submit",function(t){t.preventDefault(),console.log("REFLYTE: Form submitted");let n=e.querySelector('input[type="email"]');if(n){let o=n.value;(function e(t){let n=function e(){let t=document.getElementById("reflyte-script");return t.getAttribute("data-newsletter-id")}();fetch("https://eoesnoxm4v1ivdg.m.pipedream.net",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,newsletterId:n})}).then(function(e){if(!e.ok)throw Error("REFLYTE: Response status: "+e.status+". Response status text: "+e.statusText);return e.json()}).then(function(e){console.log("REFLYTE: Request sent successfully",e)}).catch(function(e){console.error(e)})})(o)}else console.error("REFLYTE: No email input found in the form")})})});